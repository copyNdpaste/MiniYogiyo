# 레스토랑 요구사항 및 모델 - 카테고리, 레스토랑정보, 메뉴, 리뷰(옵션)

## 요구사항

#####  FoodCategoriesView

| 1               | 카테고리                                                     |
| --------------- | ------------------------------------------------------------ |
| 카테고리 페이지 | 홈 화면에 1인분 주문, 치킨, 중국집,...과 같은 카테고리가 있다. |

#####  RestaurantsView

| 2               | 레스토랑 리스트 페이지                                       |
| --------------- | ------------------------------------------------------------ |
| 레스토랑 페이지 | 카테고리 중 하나를 클릭하면 선택한 카테고리에 맞는 레스토랑들이 있는 페이지로 이동한다. |
| 배달 지역       | 레스토랑 페이지 상단에 배달 지역이 있다.                     |
| 카테고리        | 배달 지역 아래에 텍스트 형식의 카테고리가 있다.              |
| 레스토랑 리스트 | 텍스트 형식의 카테고리 아래에 레스토랑 리스트들이 있다.      |
| 레스토랑 리스트 | 레스토랑 리스트에는 우리동네 플러스, 슈퍼레드위크 추천, 요기요 등록 음식점, 일반 음식점있다. |
| 레스토랑 리스트 | 각각의 레스토랑 리스트에 해당하는 레스토랑들이 리스트를 기준으로 묶여서 나열된다. |
| 필터            | 레스토랑을 필터링할 수 있다.                                 |
| 필터 기준       | 필터 기준에는 최소 주문 금액순, 배달 시간순이 있다.          |

#####  RestaurantSimepleView

| 3                  | 간략 레스토랑 정보                                           |
| ------------------ | ------------------------------------------------------------ |
| 간략 레스토랑 정보 | 레스토랑 리스트에 속한 하나의 레스토랑 뷰에는 음식 또는 브랜드 이미지, 음식점명, 각종 태그(우수, CESCO), 간략한 메뉴, 배달예상시간이 있다. |

#####  RestaurantDetailView

| 4                                                            | 레스토랑 디테일 페이지                                       |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 레스토랑 디테일 페이지                                       | 레스토랑을 클릭하면 레스토랑 디테일 페이지로 이동한다.       |
| 레스토랑 디테일 페이지 공통                                  | 공통적으로 음식점명, 배달예상시간, 탭(메뉴 수, 정보)가 있다. |
| 레스토랑 디테일 페이지 상단 배경 이미지                      | 페이지 상단에는 음식 이미지가 있을 수 있다.                  |
| 레스토랑 디테일 페이지 검색 기능                             | 페이지에서 해당 레스토랑에 있는 음식을 검색할 수 있다.       |
| 레스토랑 디테일 페이지 메뉴 탭                               | 메뉴 탭에는 주문 안내(최소주문금액, 결제방법, 사장님 알림)가 있다. |
| 레스토랑 디테일 페이지 메뉴 탭 카드 메뉴                     | 메뉴 탭에는 이미지, 메뉴명, 가격을 포함하는 카드 형태의 메뉴가 있다. |
| 레스토랑 디테일 페이지 메뉴 탭 아코디언 메뉴 리스트          | 메뉴 탭에는 메뉴를 묶어주는 기준인 인기 메뉴, 신메뉴, 치킨 메뉴 등 사장님이 입력한 아코디언 메뉴 리스트가 있다. |
| 레스토랑 디테일 페이지 메뉴 탭 아코디언 메뉴 리스트 디테일 메뉴 | 아코디언 메뉴 리스트를 클릭하면 리스트가 펼쳐지면서 메뉴명, 가격, 이미지 등의 메뉴 정보들이 있다. |
| 레스토랑 디테일 페이지 정보 탭                               | 정보 탭에는 업체정보(영업시간, 전화번호), 결제정보(최소주문금액, 결제수단), 사업자정보(상호명), 원산지정보가 있다. |

### 레스토랑 정보

#####  RestaurantDetailInformationView

RestaurantDetailView 페이지에서 탭의 정보를 누르면 RestaurantDetailInformationView 페이지가 뜬다.

- BossAlert(사장님 알림)이 뜬다.
  - 사진이 뜬다.
  - 사장님이 작성한 글 내용이 뜬다.
- RestaurantInfo(업체 정보)
  - 영업 시간, 전화번호, 부가정보(CESCO)
- PaymentInfo결제 정보
  - 최소 주문 금액, 결제수단(현장결제)
- BusinessLicense(사업자 정보)
  - 상호명, 사업자 등록번호
- CountryOfOrigin(원산지 정보)
- 추가기능 : 업체 위치 지도에서 보기(?)

## 새로운 기능 추가

### 날씨별 메뉴 추천

| 오전/오후 지역별 날씨 정보 수집                       | 다음 날씨 또는 기상청 날씨누리에서 오전일기와 오후일기를 weather 테이블에 insert한다. (맑음, 구름많음 등) |
| ----------------------------------------------------- | ------------------------------------------------------------ |
|                                                       | 지역       \|   날씨  \|  날짜<br />서초2동  \|   맑음  \|  2019/04/20 |
|                                                       | 서초3동  \|   맑음  \|  2019/04/21                           |
|                                                       | 날씨 누리 : https://www.kma.go.kr/m/index.jsp                |
| 사용자 주소의 현재 날씨 수집                          | 사용자가 날씨 카테고리를 클릭하면 사용자 지역, 오늘 날짜를 weather_addr 테이블에서 검색하고 날씨 정보를 수집한다. |
|                                                       | 검색된 날씨 테이블의 PK를 주문 테이블의 외래키로 지정한다.   |
| 사용자 주소의 현재 날씨에 맞는 주문수 Top 5 메뉴 출력 | 사용자 지역의 날씨와 지역이 일치하는 주문 테이블의 레코드들을 그룹화하고 주문수 Top 5 메뉴를 출력한다. (주문 테이블과 메뉴 테이블을 join한 뒤 메뉴를 기준으로 그룹화하고 날씨를 기준으로 다시 그룹화한다음 주문수 기준으로 내림차순 정렬하고 위에서 5개만 출력한다.) |

### ~~리뷰 좋아요 / 전체 리뷰 보기 / 카테고리 별 리뷰 보기~~

#####  사용자가 남긴 레스토랑에 대한 평점 이외에 리뷰 자체에 대한 퀄리티를 다른 사용자들이 평가하기 위한 시스템.

##### 좋아요 기능

* 사용자가 마음에 드는 리뷰에 하트를 누르면 하트 1개가 증가한다.
* 사용자가 이미 리뷰에 좋아요를 누른 상태에서 다시 누르면 하트 1개가 감소한다.

사용자가 레스토랑 클린 리뷰에서 좋아요 개수 순으로 보기를 선택하면 좋아요가 많은 리뷰부터 보여준다.

##### 리뷰 전체 보기 OR Best 리뷰 기능

* 사용자가 모든 리뷰 페이지로 이동한다.

  * 특정 레스토랑에 국한된 리뷰 리스트가 아닌 전체 레스트랑에 대한 모든 리뷰를 확인한다.
  * 최다 좋아요 최고의 리뷰를 확인할 수 있다.

  * 특정 레스토랑에 국한된 리뷰 리스트가 아닌 치킨, 피자 등의 음식 카테고리를 선택하면 그 음식에 대한 리뷰를 확인한다.

### ~~클린리뷰~~(옵션)

##### ~~ RestaurantDetailCleanReviewView~~

RestaurantDetailView 페이지에서 탭의 클린리뷰를 누르면 RestaurantDetailCleanReviewView 페이지가 뜬다.

-   별점이 있다. 별점에는 맛, 양, 배달 점수가 세분화되어 있다.
-   리뷰 개수, 사장님 댓글 수가 있다.
-   사진 리뷰만 보는 필터가 있다.
-   댓글에는
    -   회원 등급별 이미지, 닉네임+님, 글 남긴지 얼마나 되었는지를 나타내는 시간, 별점, 맛, 양, 배달, 신고버튼, 글 내용, 주문한 메뉴가 있다.
    -   신고 접수 기능이 있다.